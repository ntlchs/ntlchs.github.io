---
import P5Layout from "@layouts/p5Layout.astro";
---

<P5Layout>
  <div id="sketch-container"></div>
  <script>
    console.log('Script is running.');
    let bubbles = [];

    function setup() {
      const canvas = createCanvas(windowWidth, windowHeight);
      canvas.parent("sketch-container");
      
      // Create and initialize bubbles
      for (let i = 0; i < 2; i++) {
        bubbles.push(new Bubble(random(width), random(height)));
      }
    }

    function draw() {
      background(255);
      
      // Update and display bubbles
      for (let bubble of bubbles) {
        bubble.update();
        bubble.display();
      }
    }

    class Bubble {
      constructor(x, y) {
        this.x = x;
        this.y = y;
        this.radius = 25;
      }

      update() {
        // Move the bubble randomly
        this.x += random(-2, 2);
        this.y += random(-2, 2);
        
        // Constrain the bubble within the canvas
        this.x = constrain(this.x, 0, width - this.radius);
        this.y = constrain(this.y, 0, height - this.radius);
      }

      display() {
        // Display the bubble
        noStroke();
        fill('#3498db');
        ellipse(this.x, this.y, this.radius * 2);
      }
    }
  </script>
</P5Layout>